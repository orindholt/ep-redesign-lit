import{c as e,a as t,t as s,b as o,s as l,$ as i}from"./css-c9119a3a.js";const a=e({target:new CSSStyleSheet}),{tw:r}=t({sheet:a,theme:s}),n=o`&:checked{border-color:#ffa626!important}&:checked::before{content:url(images/check.svg)}`,c=(e,t)=>{e.name&&"tos"!=e.name&&e.style.color&&(e.style.color=""),e.style.borderColor&&(e.style.borderColor=""),"block"==e.style.display&&(e.style.display=""),e.style||e.removeAtrribute("style"),"block"==t.style.display&&(t.style.display=""),t.style||e.removeAtrribute("style")},d=(e,t,o,l=!1)=>{const i=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,a=/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/;let r=0,n=!1;return e&&e.forEach((e=>{(!e.value||"email"==e.name&&!i.test(e.value)||"password"==e.name&&!a.test(e.value)||"tos"==e.name&&!e.checked)&&(l||((e,t,o,l)=>{"tos"!=e.name?(e.style.color=s.extend.colors.red,e.style.borderColor=s.extend.colors.red,e.oninput=e=>{e.target.style.color&&(e.target.style.color=""),e.target.style.borderColor&&(e.target.style.borderColor=""),e.target.style||e.target.removeAtrribute("style")}):(e.style.borderColor="#f82858",e.onchange=e=>{e.target.style.borderColor&&(e.target.style.borderColor=""),e.target.style||e.target.removeAtrribute("style"),"block"==t.style.display&&(t.style.display="")},"block"!=t.style.display&&(t.style.display="block")),"block"!=o.style.display&&(o.style.display="block"),l||(o.textContent="tos"==e.name?"* Please agree to the terms of service":"password"==e.name&&e.value.length<8?"* Password needs to include atleast 8 characters.":"password"!=e.name||/\d/.test(e.value)?`* Please enter a vaild ${e.name}`:"* Password needs to include atleast one number")})(e,t,o,r),r++,n=!0)})),console.log(n),n};class p extends l{static styles=[a.target];static properties={magicLink:{type:Boolean},log:{type:Boolean},passReq:{type:Boolean},attemptSubmit:{type:Boolean},loading:{type:Boolean},done:{type:Boolean},_handleSubmit:{type:Function}};constructor(){super(),this.log=!0,this.passReq=!1,this.loading=!1,this.done=!1,this.magicLink=!0,this._handleSubmit=e=>{const t=this.shadowRoot.querySelector("#error"),s=this.shadowRoot.querySelector("#error-icon"),o=this.shadowRoot.querySelectorAll("input"),l=e.submitter;this.done||e.preventDefault();this.attemptSubmit=!0,l.classList.contains("social-btn")?d(this.shadowRoot.querySelectorAll("#tos"),s,t)||(this.loading=!0,console.log(this.loading),setTimeout((()=>{this.done=!0,this.shadowRoot.querySelector("#login-form").submit()}),2e3)):d(o,s,t)}}render(){return i`<div class="${r`w-[100vw] h-[100vh] bg-[#00000030] fixed top-0 left-0 right-0 bottom-0 z-30 flex justify-center items-center p-4 py-6`}"><div class="${r`overflow-y-scroll sm:overflow-auto py-5 max-w-[28.5rem] max-h-[43.125rem] w-full h-full rounded-xl text-black pt-5 px-7 z-[5] font-sofia animate-fadeInAlt ${o`&{backdrop-filter:blur(3rem) saturate(125%)}&::before{background:#ffffff60;width:100%;height:100%;content:'';position:absolute;top:0;left:0}`}`}"><div class="${r`flex flex-col text-center h-full gap-2 sm:gap-3 relative`}"><slot></slot><section><h2 class="${r`text-[3.2rem] text-left font-bold leading-snug`}">${this.log?"Sign in":"Sign up"}</h2><p class="${r`font-semibold text-left text-[17px] ${o`&{color:${this.log?s.extend.colors.black:s.extend.colors.orange}}`}`}">${this.log?"Sign in for your daily bonus!":"Earn 1000 ekstrapoints by signing up"}</p></section><form @submit="${e=>this._handleSubmit(e)}" id="login-form" method="POST" action="/" class="${r`flex flex-col h-full gap-1 items-center`}"><div class="${r`flex flex-col gap-3 mt-4 w-full`}"><button type="submit" class="social-btn ${r`w-full flex rounded-lg p-[0.9rem] justify-center items-center bg-[#ffffff80]`}"><div class="${r`w-6 h-6 bg-lightBlue p-1 rounded-md flex justify-center items-center`}"><img src="./images/social-icons/facebook.svg" class="${r`h-full`}"></div><p class="${r`mx-auto pr-5 pb-1`}">Continue with Facebook</p></button> <button type="submit" class="social-btn ${r`w-full flex rounded-lg p-3 justify-center items-center bg-[#ffffff80]`}"><div class="${r`w-6 h-6 bg-lightBlue p-1 rounded-md flex justify-center items-center`}"><img src="./images/social-icons/google.svg" class="${r`h-full`}"></div><p class="${r`mx-auto pr-5 pb-1`}">Continue with Google</p></button> <button type="submit" class="social-btn ${r`w-full flex rounded-lg p-3 justify-center items-center bg-[#ffffff80]`}"><div class="${r`w-6 h-6 bg-lightBlue p-1 rounded-md flex justify-center items-center`}"><img src="./images/social-icons/apple.svg" class="${r`h-full`}"></div><p class="${r`mx-auto pr-5 pb-1`}">Continue with Apple</p></button></div><p class="${r`text-darkGray my-2 font-medium`}">Or</p><div class="${r`flex flex-col items-center gap-2 relative w-full`}"><p id="error" class="${r`text-red text-xs absolute top-[-1.3rem] hidden animate-fadeInAlt opacity-0 self-start`}"></p><input type="text" id="email" name="email" placeholder="Email..." class="${r`pb-1 px-3 h-12 w-full rounded-lg bg-lightGray border-2 border-transparent transition-colors ${o`&::placeholder{color:inherit}`}`}"> ${this.passReq||this.magicLink?"":i`<input type="password" placeholder="Password..." id="password" name="password" class="${r`pb-1 px-3 h-12 w-full rounded-lg bg-lightGray border-2 border-transparent transition-colors ${o`&::placeholder{color:inherit}`}`}">`} ${this.log?"":i`<div class="${r`flex gap-3 items-center justify-center w-full px-5`}"><div class="${r`relative w-4 h-4`}"><input class="${r`cursor-pointer appearance-none min-w-[1rem] min-h-[1rem] border-2 border-darkBlue rounded-[4px] relative ${n} before:bg-orange before:w-full before:h-full before:absolute before:grid before:place-content-center before:pb-1`}" type="checkbox" name="tos" id="tos"> <img id="error-icon" class="${r`absolute -top-[1.2rem] w-3 left-[calc(50%-(12px/2))] hidden animate-fadeInAlt opacity-0`}" src="./images/error.svg" alt="Error"></div><label for="tos" class="${r`text-xs text-darkBlue text-left`}">By selecting to login via Social I agree to the<br><a href="#" class="${r`text-blue font-bold`}">Terms & Conditions and Privacy Policy</a></label></div>`}</div><button type="submit" id="submit-button" class="${r`mt-4 rounded-md cursor-pointer shadow-md px-4 pb-1 h-12 w-full flex justify-center items-center text-lg font-medium text-white md:hover:scale-105 transition-transform active:scale-100 bg-gradient-to-bl from-orange to-yellow`}">${!this.magicLink||this.passReq||this.loading?"":i`<img class="${r`-translate-x-3`}" src="./images/wand.svg">`} ${this.loading?i`<img class="${r`animate-rotate h-4/5`}" src="./images/arrows_circle.svg" alt="Loading icon">`:""+(!this.log||this.passReq||this.magicLink?this.log&&this.passReq?"Send Recovery Mail":this.magicLink?"Send link to email":"Continue":"Sign in")}</button> ${this.passReq?"":i`<button class="${r`flex gap-1 items-center text-sm`}" @click="${()=>{this.magicLink=!this.magicLink,console.log(this.magicLink)}}" type="button">${this.magicLink?"":i`<img src="./images/wand-black.svg">`} ${!this.magicLink&&this.log?i`Sign in <span class="${r`font-semibold underline`}">without a password</span>`:this.magicLink||this.log?this.magicLink&&this.log?i`Sign in <span class="${r`font-semibold underline`}">with your password</span>`:i`Sign up <span class="${r`font-semibold underline`}">with your password</span>`:i`Sign up <span class="${r`font-semibold underline`}">without a password</span>`}</button>`}</form><div class="${r`leading-4 flex gap-1 mx-auto`}"><p class="${r`text-base`}">${this.log?"Not a member?":"Already member?"}</p><button type="button" class="${r`text-base font-bold underline`}" @click="${()=>{this.passReq&&(this.passReq=!1),this.magicLink&&(this.magicLink=!0),this.log=!this.log;const e=this.shadowRoot.querySelectorAll("input"),t=this.shadowRoot.querySelector("#error");e.forEach((e=>c(e,t)))}}">${this.log?"Sign up here":"Sign in here"}</button></div>${this.log?i`<button class="${r`text-lg font-semibold`}" @click="${()=>{this.passReq=!this.passReq;const e=this.shadowRoot.querySelectorAll("input"),t=this.shadowRoot.querySelector("#error");e.forEach((e=>c(e,t)))}}">${this.passReq?"Remember your password?":"Forgot your password?"}</button>`:""}</div></div></div>`}}window.customElements.define("log-in",p);export{p as Login};
