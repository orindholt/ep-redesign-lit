import{s as e,r as t,$ as s}from"./lit-element-65efed9f.js";const o=(e,t)=>{e.name&&"tos"!=e.name&&e.style.color&&(e.style.color=""),e.style.borderColor&&(e.style.borderColor=""),"block"==e.style.display&&(e.style.display=""),e.style||e.removeAtrribute("style"),"block"==t.style.display&&(t.style.display=""),t.style||e.removeAtrribute("style")},l=(e,t,s,o=!1)=>{const l=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,i=/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/;let a=0,r=!1;return e&&e.forEach((e=>{(!e.value||"email"==e.name&&!l.test(e.value)||"password"==e.name&&!i.test(e.value)||"tos"==e.name&&!e.checked)&&(o||((e,t,s,o)=>{"tos"!=e.name?(e.style.color="#f82858",e.style.borderColor="#f82858",e.oninput=e=>{e.target.style.color&&(e.target.style.color=""),e.target.style.borderColor&&(e.target.style.borderColor=""),e.target.style||e.target.removeAtrribute("style")}):(e.style.borderColor="#f82858",e.onchange=e=>{e.target.style.borderColor&&(e.target.style.borderColor=""),e.target.style||e.target.removeAtrribute("style"),"block"==t.style.display&&(t.style.display="")},"block"!=t.style.display&&(t.style.display="block")),"block"!=s.style.display&&(s.style.display="block"),o||(s.textContent="tos"==e.name?"* Please agree to the terms of service":"password"==e.name&&e.value.length<8?"* Password needs to include atleast 8 characters.":"password"!=e.name||/\d/.test(e.value)?`* Please enter a vaild ${e.name}`:"* Password needs to include atleast one number")})(e,t,s,a),a++,r=!0)})),console.log(r),r};class i extends e{static styles=[t`.tos-checkbox:checked{border-color:#ffa626!important}.tos-checkbox:checked::before{width:100%;height:100%;position:absolute;display:grid;place-content:center;padding-bottom:4px;background-color:#ffa626;border-color:#ffa626;content:url(images/check.svg)}.lighten-backdrop::before{background:#ffffff80;width:100%;height:100%;content:'';position:absolute;top:0;left:0}@-moz-document url-prefix(){.lighten-backdrop{background:#eaeff7}.lighten-backdrop::before{display:none}}`];static properties={magicLink:{type:Boolean},log:{type:Boolean},passReq:{type:Boolean},attemptSubmit:{type:Boolean},loading:{type:Boolean},done:{type:Boolean},_handleSubmit:{type:Function}};constructor(){super(),this.log=!0,this.passReq=!1,this.loading=!1,this.done=!1,this.magicLink=!0,this._handleSubmit=e=>{const t=this.shadowRoot.querySelector("#error"),s=this.shadowRoot.querySelector("#error-icon"),o=this.shadowRoot.querySelectorAll("input"),i=e.submitter;this.done||e.preventDefault();this.attemptSubmit=!0,i.classList.contains("social-btn")?l(this.shadowRoot.querySelectorAll("#tos"),s,t)||(this.loading=!0,console.log(this.loading),setTimeout((()=>{this.done=!0,this.shadowRoot.querySelector("#login-form").submit()}),2e3)):l(o,s,t)}}render(){return s`<link rel="stylesheet" href="/dev/output.css"><div class="w-[100vw] h-[100vh] bg-[#00000040] fixed top-0 left-0 right-0 bottom-0 z-30 flex justify-center items-center p-4 py-6"><div class="overflow-y-scroll sm:overflow-auto py-5 max-w-[28.5rem] max-h-[43.125rem] w-full h-full rounded-xl text-black pt-5 px-7 z-[5] font-sofia animate-fadeInAlt lighten-backdrop backdrop-filter backdrop-blur-3xl"><div class="flex flex-col text-center h-full gap-2 sm:gap-3 relative"><slot></slot><section><h2 class="text-[3.2rem] text-left font-bold leading-snug">${this.log?"Sign in":"Sign up"}</h2><p class="font-semibold text-left text-[17px]">${this.log?"Sign in for your daily bonus!":"Earn 1000 ekstrapoints by signing up"}</p></section><form @submit="${e=>this._handleSubmit(e)}" id="login-form" method="POST" action="/" class="flex flex-col h-full gap-1 items-center"><div class="flex flex-col gap-3 mt-4 w-full"><button type="submit" class="social-btn w-full flex rounded-lg p-[0.9rem] justify-center items-center bg-[#ffffff80]"><div class="w-6 h-6 bg-lightBlue p-1 rounded-md flex justify-center items-center"><img src="./images/social-icons/facebook.svg" class="h-full"></div><p class="mx-auto pr-5 pb-1">Continue with Facebook</p></button> <button type="submit" class="social-btn w-full flex rounded-lg p-3 justify-center items-center bg-[#ffffff80]"><div class="w-6 h-6 bg-lightBlue p-1 rounded-md flex justify-center items-center"><img src="./images/social-icons/google.svg" class="h-full"></div><p class="mx-auto pr-5 pb-1">Continue with Google</p></button> <button type="submit" class="social-btn w-full flex rounded-lg p-3 justify-center items-center bg-[#ffffff80]"><div class="w-6 h-6 bg-lightBlue p-1 rounded-md flex justify-center items-center"><img src="./images/social-icons/apple.svg" class="h-full"></div><p class="mx-auto pr-5 pb-1">Continue with Apple</p></button></div><p class="text-darkGray my-2 font-medium">Or</p><div class="flex flex-col items-center gap-2 relative w-full"><p id="error" class="text-red text-xs absolute top-[-1.3rem] hidden animate-fadeInAlt opacity-0 self-start"></p><input type="text" id="email" name="email" placeholder="Email..." class="pb-1 px-3 h-12 w-full rounded-lg bg-lightGray border-2 border-transparent transition-colors placeholder:text-inherit"> ${this.passReq||this.magicLink?"":s`<input type="password" placeholder="Password..." id="password" name="password" class="pb-1 px-3 h-12 w-full rounded-lg bg-lightGray border-2 border-transparent transition-colors placeholder:text-inherit">`} ${this.log?"":s`<div class="flex gap-3 items-center justify-center w-full px-5"><div class="relative w-4 h-4"><input class="tos-checkbox cursor-pointer appearance-none min-w-[1rem] min-h-[1rem] border-darkBlue before:rounded-[4px] relative before:border-2 before:absolute before:w-full before:h-full before:overflow-hidden before:border-inherit" type="checkbox" name="tos" id="tos"> <img id="error-icon" class="absolute -top-[1.2rem] w-3 left-[calc(50%-(12px/2))] hidden animate-fadeInAlt opacity-0" src="./images/error.svg" alt="Error"></div><label for="tos" class="text-xs text-darkBlue text-left">By selecting to login via Social I agree to the<br><a href="#" class="text-blue font-bold">Terms & Conditions and Privacy Policy</a></label></div>`}</div><button type="submit" id="submit-button" class="mt-4 rounded-md cursor-pointer shadow-md px-4 pb-1 h-12 w-full flex justify-center items-center text-lg font-medium text-white md:hover:scale-105 transition-transform active:scale-100 bg-gradient-to-bl from-orange to-yellow">${!this.magicLink||this.passReq||this.loading?"":s`<img class="-translate-x-3 h-1/2" src="./images/wand.svg">`} ${this.loading?s`<img class="animate-rotate h-4/5" src="./images/arrows_circle.svg" alt="Loading icon">`:""+(!this.log||this.passReq||this.magicLink?this.log&&this.passReq?"Send Recovery Mail":this.magicLink?"Send link to email":"Continue":"Sign in")}</button> ${this.passReq?"":s`<button class="flex gap-1 items-center text-sm" @click="${()=>{this.magicLink=!this.magicLink,console.log(this.magicLink)}}" type="button">${this.magicLink?"":s`<img src="./images/wand-black.svg">`} ${!this.magicLink&&this.log?s`Sign in <span class="font-semibold underline">without a password</span>`:this.magicLink||this.log?this.magicLink&&this.log?s`Sign in <span class="font-semibold underline">with your password</span>`:s`Sign up <span class="font-semibold underline">with your password</span>`:s`Sign up <span class="font-semibold underline">without a password</span>`}</button>`}</form><div class="leading-4 flex gap-1 mx-auto"><p class="text-base">${this.log?"Not a member?":"Already member?"}</p><button type="button" class="text-base font-bold underline" @click="${()=>{this.passReq&&(this.passReq=!1),this.magicLink&&(this.magicLink=!0),this.log=!this.log;const e=this.shadowRoot.querySelectorAll("input"),t=this.shadowRoot.querySelector("#error");e.forEach((e=>o(e,t)))}}">${this.log?"Sign up here":"Sign in here"}</button></div>${this.log?s`<button class="text-lg font-semibold" @click="${()=>{this.passReq=!this.passReq;const e=this.shadowRoot.querySelectorAll("input"),t=this.shadowRoot.querySelector("#error");e.forEach((e=>o(e,t)))}}">${this.passReq?"Remember your password?":"Forgot your password?"}</button>`:""}</div></div></div>`}}window.customElements.define("log-in",i);export{i as Login};
